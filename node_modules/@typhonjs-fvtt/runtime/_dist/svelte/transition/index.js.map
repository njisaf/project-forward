{"version":3,"file":"index.js","sources":["../../../../../../../../../../../../program/Javascript/projects/TyphonJS/typhonjs-svelte/runtime-base/_dist/svelte/transition/index.js"],"sourcesContent":["import { linear } from 'svelte/easing';\nimport { lerp } from '@typhonjs-svelte/runtime-base/math/interpolate';\nimport { getEasingFunc } from '@typhonjs-svelte/runtime-base/svelte/easing';\nimport { fade, slide } from 'svelte/transition';\n\n/**\r\n * Provides a rotate transition. For options `easing` is applied to the rotate transition. The default easing is\r\n * linear.\r\n *\r\n * Note: that when reversing the transition that time goes from `1 - 0`, so if specific options are applied for\r\n * rotating out transition then `end` and `initial` are swapped.\r\n *\r\n * @param {HTMLElement} node - The transition node.\r\n *\r\n * @param {object}      [options] - Optional parameters.\r\n *\r\n * @param {number}      [options.delay] - Delay in ms before start of transition.\r\n *\r\n * @param {number}      [options.duration] - Total transition length in ms.\r\n *\r\n * @param {import('#runtime/svelte/easing').EasingReference}   [options.easing='linear'] - Easing function name or\r\n *        function to apply to the rotate transition.\r\n *\r\n * @param {number}      [options.end=0] - End rotation in degrees.\r\n *\r\n * @param {number}      [options.initial=0] - Initial rotation in degrees.\r\n *\r\n * @returns {import('svelte/transition').TransitionConfig} Transition config.\r\n */\r\nfunction rotate(node, options)\r\n{\r\n   const easingRotate = getEasingFunc(options.easing);\r\n\r\n   const initialDeg = options.initial ?? 0;\r\n   const endDeg = options.end ?? 0;\r\n\r\n   return {\r\n      delay: options.delay ?? 0,\r\n      duration: options.duration ?? 500,\r\n      easing: linear,\r\n      css: (t) =>\r\n      {\r\n         const rotateT = easingRotate(t);\r\n         return `transform: rotate(${lerp(initialDeg, endDeg, rotateT)}deg)`;\r\n      }\r\n   };\r\n}\n\n/**\r\n * Combines rotate & fade transitions into a single transition. For options `easing` this is applied to both\r\n * transitions, however if provided `easingRotate` and / or `easingFade` will take precedence. The default easing is\r\n * linear.\r\n *\r\n * Note: that when reversing the transition that time goes from `1 - 0`, so if specific options are applied for\r\n * rotating out transition then `end` and `initial` are swapped.\r\n *\r\n * @param {HTMLElement} node - The transition node.\r\n *\r\n * @param {object}      [options] - Optional parameters.\r\n *\r\n * @param {number}      [options.delay] - Delay in ms before start of transition.\r\n *\r\n * @param {number}      [options.duration] - Total transition length in ms.\r\n *\r\n * @param {import('#runtime/svelte/easing').EasingReference}   [options.easing='linear'] - Easing function name or\r\n *        function to apply to both slide & fade transitions.\r\n *\r\n * @param {import('#runtime/svelte/easing').EasingReference}   [options.easingFade='linear'] - Easing function name or\r\n *        function to apply to the fade transition.\r\n *\r\n * @param {import('#runtime/svelte/easing').EasingReference}   [options.easingRotate='linear'] - Easing function name or\r\n *        function to apply to the rotate transition.\r\n *\r\n * @param {number}      [options.end=0] - End rotation in degrees.\r\n *\r\n * @param {number}      [options.initial=0] - Initial rotation in degrees.\r\n *\r\n * @returns {import('svelte/transition').TransitionConfig} Transition config.\r\n */\r\nfunction rotateFade(node, options)\r\n{\r\n   const easingFade = getEasingFunc(options.easingFade ?? options.easing);\r\n   const easingRotate = getEasingFunc(options.easingRotate ?? options.easing);\r\n\r\n   const fadeTransition = fade(node);\r\n\r\n   const initialDeg = options.initial ?? 0;\r\n   const endDeg = options.end ?? 0;\r\n\r\n   return {\r\n      delay: options.delay ?? 0,\r\n      duration: options.duration ?? 500,\r\n      easing: linear,\r\n      css: (t) =>\r\n      {\r\n         const fadeT = easingFade(t);\r\n         const rotateT = easingRotate(t);\r\n\r\n         return `transform: rotate(${lerp(initialDeg, endDeg, rotateT)}deg); ${fadeTransition.css(fadeT, 1 - fadeT)}`;\r\n      }\r\n   };\r\n}\n\n/**\r\n * Combines slide & fade transitions into a single transition. For options `easing` this is applied to both transitions,\r\n * however if provided `easingSlide` and / or `easingFade` will take precedence. The default easing is linear.\r\n *\r\n * @param {HTMLElement} node - The transition node.\r\n *\r\n * @param {object}      [options] - Optional parameters.\r\n *\r\n * @param {'x' | 'y'}   [options.axis] - The sliding axis.\r\n *\r\n * @param {number}      [options.delay] - Delay in ms before start of transition.\r\n *\r\n * @param {number}      [options.duration] - Total transition length in ms.\r\n *\r\n * @param {import('#runtime/svelte/easing').EasingReference}   [options.easing=linear] - Easing function name or\r\n *        function to apply to both slide & fade transitions.\r\n *\r\n * @param {import('#runtime/svelte/easing').EasingReference}   [options.easingFade=linear] - Easing function name or\r\n *        function to apply to the fade transition.\r\n *\r\n * @param {import('#runtime/svelte/easing').EasingReference}   [options.easingSlide=linear] - Easing function name or\r\n *        function to apply to the slide transition.\r\n *\r\n * @returns {import('svelte/transition').TransitionConfig} Transition config.\r\n */\r\nfunction slideFade(node, options)\r\n{\r\n   const fadeEasing = getEasingFunc(options.easingFade ?? options.easing);\r\n   const slideEasing = getEasingFunc(options.easingSlide ?? options.easing);\r\n\r\n   const fadeTransition = fade(node);\r\n   const slideTransition = slide(node, { axis: options.axis });\r\n\r\n   return {\r\n      delay: options.delay ?? 0,\r\n      duration: options.duration ?? 500,\r\n      easing: linear,\r\n      css: (t) =>\r\n      {\r\n         const fadeT = fadeEasing(t);\r\n         const slideT = slideEasing(t);\r\n         return `${slideTransition.css(slideT, 1 - slideT)}; ${fadeTransition.css(fadeT, 1 - fadeT)}`;\r\n      }\r\n   };\r\n}\n\n/**\r\n * Converts a Svelte transition to an animation. Both transitions & animations use the same CSS / styles solution and\r\n * resulting data so wrap the transition function with the signature of an animation.\r\n *\r\n * @param {(node: Element, ...rest: any[]) => import('svelte/transition').TransitionConfig} fn -\r\n *        A Svelte transition function.\r\n *\r\n * @returns {(\r\n *    node: Element,\r\n *    data: { from: DOMRect, to: DOMRect },\r\n *    ...rest: any\r\n * ) => import('svelte/animation').AnimationConfig} - Transition function converted to an animation.\r\n */\r\nfunction toAnimation(fn)\r\n{\r\n   return (node, animations, ...rest) => fn(node, ...rest);\r\n}\n\n/**\r\n * Provides static data useful for handling custom props / options to components that allow dynamic configuration of\r\n * transitions. This is used in all application shells and components that have configurable transitions.\r\n *\r\n * @ignore\r\n */\r\nclass TJSDefaultTransition\r\n{\r\n   static #options = {};\r\n\r\n   static #default = () => void 0;\r\n\r\n   /**\r\n    * @returns {() => undefined} Default empty transition.\r\n    */\r\n   static get default() { return this.#default; }\r\n\r\n   /**\r\n    * @returns {{}} Default empty options.\r\n    */\r\n   static get options() { return this.#options; }\r\n}\n\nexport { TJSDefaultTransition, rotate, rotateFade, slideFade, toAnimation };\n//# sourceMappingURL=index.js.map\n"],"names":[],"mappings":"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"}